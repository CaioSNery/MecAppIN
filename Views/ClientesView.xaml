<UserControl x:Class="MecAppIN.Views.ClientesView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Grid Margin="20">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="2*"/>
            <ColumnDefinition Width="3*"/>
        </Grid.ColumnDefinitions>

        <!-- ========================= -->
        <!-- LISTA + BUSCA + PAGINAÇÃO -->
        <!-- ========================= -->
        <StackPanel Grid.Column="0"
                    Margin="0,0,20,0">

            <!-- Campo de busca -->
            <TextBlock Text="Buscar cliente"/>
            <TextBox Text="{Binding TextoBusca, UpdateSourceTrigger=PropertyChanged}"
                     Margin="0,0,0,10"/>

            <!-- DataGrid -->
            <DataGrid ItemsSource="{Binding Clientes}"
                      SelectedItem="{Binding ClienteSelecionado}"
                      AutoGenerateColumns="False"
                      CanUserAddRows="False"
                      IsReadOnly="True"
                      SelectionUnit="FullRow"
                      HeadersVisibility="Column"
                      RowHeaderWidth="0"
                      Height="350"
                      HorizontalAlignment="Stretch"
                      ColumnWidth="*">


                <DataGrid.Columns>
                    <DataGridTextColumn Header="Nome"
                                        Binding="{Binding Nome}"/>
                    <DataGridTextColumn Header="Telefone"
                                        Binding="{Binding Telefone}"/>
                    <DataGridTextColumn Header="Endereço"
                                        Binding="{Binding Endereco}"/>
                </DataGrid.Columns>
            </DataGrid>

            <!-- Paginação -->
            <Border Padding="6"
                    Background="#F5F5F5"
                    BorderBrush="#CCCCCC"
                    BorderThickness="1"
                    CornerRadius="6"
                    HorizontalAlignment="Center"
                    Margin="0,6,0,0">

                <StackPanel Orientation="Horizontal">

                    <Button Content="◀ Anterior"
                            Command="{Binding PaginaAnteriorCommand}"
                            Padding="8,3"
                            Margin="4"/>

                    <TextBlock Text="{Binding PaginaAtual}"
                               VerticalAlignment="Center"
                               FontWeight="Bold"
                               Margin="8,0"/>

                    <Button Content="Próximo ▶"
                            Command="{Binding ProximaPaginaCommand}"
                            Padding="8,3"
                            Margin="4"/>

                </StackPanel>
            </Border>

        </StackPanel>

        <!-- ================= -->
        <!-- FORMULÁRIO CLIENTE -->
        <!-- ================= -->
        <StackPanel Grid.Column="1"
                    Margin="20">

            <TextBlock Text="Nome"/>
            <TextBox Text="{Binding ClienteSelecionado.Nome,
                            UpdateSourceTrigger=PropertyChanged}"
                     Margin="0,0,0,10"/>

            <TextBlock Text="Telefone"/>
            <TextBox Text="{Binding ClienteSelecionado.Telefone}"
                     Margin="0,0,0,10"/>

            <TextBlock Text="Endereço"/>
            <TextBox Text="{Binding ClienteSelecionado.Endereco}"
                     Margin="0,0,0,10"/>

                <StackPanel Orientation="Horizontal">
                <Button Content="Salvar"
                        Command="{Binding SalvarCommand}"
                        Width="80"
                        Margin="5,0"
                        Background="#4CAF50"
                        Foreground="White"/>

                <Button Content="Excluir"
                        Command="{Binding ExcluirCommand}"
                        Width="80"
                        Background="#C62828"
                        Foreground="White"/>
            </StackPanel>

        </StackPanel>

    </Grid>
</UserControl>
