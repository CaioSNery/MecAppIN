<UserControl x:Class="MecAppIN.Views.DiaDiaView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:MecAppIN.ViewModels">

    <UserControl.DataContext>
        <vm:DiaDiaViewModel/>
    </UserControl.DataContext>

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- ===================== -->
        <!-- TÍTULO -->
        <!-- ===================== -->
        <TextBlock Text="{Binding Titulo}"
                   FontSize="22"
                   FontWeight="Bold"
                   Margin="0,0,0,15"/>

        <!-- ===================== -->
        <!-- FORMULÁRIO -->
        <!-- ===================== -->
        <StackPanel Grid.Row="1"
                    Orientation="Horizontal"
                    Margin="0,0,0,12">

            <!-- VALOR -->
            <StackPanel Width="120">
                <TextBlock Text="Valor"
                           FontSize="12"
                           Foreground="Gray"/>
                <TextBox Text="{Binding Valor}"
                         VerticalContentAlignment="Center"/>
            </StackPanel>

            <!-- TIPO -->
            <StackPanel Width="140" Margin="10,0,0,0">
                <TextBlock Text="Entrada / Saída"
                           FontSize="12"
                           Foreground="Gray"/>
                <ComboBox ItemsSource="{Binding TiposPagamento}"
                          SelectedItem="{Binding Tipo}"/>
            </StackPanel>

            <!-- FORMA -->
            <StackPanel Width="140" Margin="10,0,0,0">
                <TextBlock Text="Forma Pagamento"
                           FontSize="12"
                           Foreground="Gray"/>
                <ComboBox ItemsSource="{Binding FormasPagamento}"
                          SelectedItem="{Binding Forma}"/>
            </StackPanel>

            <!-- BOTÃO -->
            <Button Content="Adicionar"
                    Command="{Binding AdicionarCommand}"
                    Width="120"
                    Height="40"
                    Margin="15,18,0,0"/>
        </StackPanel>

        <!-- ===================== -->
        <!-- TABELA -->
        <!-- ===================== -->
        <DataGrid Grid.Row="2"
                  ItemsSource="{Binding Lancamentos}"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  CanUserAddRows="False">

            <DataGrid.Columns>
                <DataGridTextColumn Header="Hora"
                                    Binding="{Binding Data, StringFormat=HH:mm}"
                                    Width="80"/>

                <DataGridTextColumn Header="Tipo"
                                    Binding="{Binding Tipo}"
                                    Width="120"/>

                <DataGridTextColumn Header="Forma"
                                    Binding="{Binding Forma}"
                                    Width="140"/>

                <DataGridTextColumn Header="Valor"
                                    Binding="{Binding Valor, StringFormat=C}"
                                    Width="120"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- ===================== -->
        <!-- TOTAIS -->
        <!-- ===================== -->
        <Border Grid.Row="3"
                Margin="0,12,0,0"
                Padding="10"
                Background="#F2F2F2"
                CornerRadius="6">

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Column="0"
                           Text="Entradas:"
                           FontWeight="Bold"/>
                <TextBlock Grid.Column="1"
                           Text="{Binding TotalEntradas, StringFormat=C}"/>

                <TextBlock Grid.Column="2"
                           Text="Saídas:"
                           FontWeight="Bold"/>
                <TextBlock Grid.Column="3"
                           Text="{Binding TotalSaidas, StringFormat=C}"/>

                <TextBlock Grid.Column="0"
                           Grid.Row="1"
                           Margin="0,6,0,0"
                           Text="Total Final:"
                           FontWeight="Bold"/>

                <TextBlock Grid.Column="1"
                           Grid.Row="1"
                           Margin="0,6,0,0"
                           Text="{Binding TotalFinal, StringFormat=C}"
                           FontSize="16"
                           FontWeight="Bold"/>
            </Grid>
        </Border>

        <!-- ===================== -->
        <!-- FECHAR DIA -->
        <!-- ===================== -->
        <Button Grid.Row="3"
                Content="Fechar Dia (Gerar PDF)"
                Command="{Binding FecharDiaCommand}"
                HorizontalAlignment="Left"
                VerticalAlignment="Bottom"
                Width="220"
                Height="40"
                Margin="0,12,0,0"/>
    </Grid>
</UserControl>
